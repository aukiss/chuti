<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8" />
    <title>ç‰›çˆ¸å°è¯¾å ‚ Â· å®¡é¢˜æ‹†è§£å·¥å…· V2.0 (å®šåˆ¶ä¼˜åŒ–ç‰ˆ)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <style>
        /* å±€éƒ¨æ ·å¼ï¼šå›¾ç‰‡é¢„è§ˆä¸æŒ‰é’® */
        .btn-secondary { background: #6c757d; margin-top: 10px; }
        .btn-secondary:hover { background: #5a6268; }
        .btn-group { display: flex; gap: 10px; margin-top: 10px; }
        .btn-group button { margin-top: 0; flex: 1; }
        
        .preview-box {
            margin-top: 10px;
            padding: 10px;
            border: 1px dashed #1e88e5;
            border-radius: 6px;
            background: #f0f8ff;
            display: none; /* é»˜è®¤éšè— */
            text-align: center;
            position: relative;
        }
        .preview-box img {
            max-width: 100%;
            max-height: 200px;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .preview-close {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(0,0,0,0.5);
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            line-height: 24px;
            font-size: 14px;
        }
    </style>
</head>
<body>

    <h1>ç‰›çˆ¸å°è¯¾å ‚ Â· å®¡é¢˜æ‹†è§£å·¥å…·ï¼ˆV2.0ï¼šè€ƒç‚¹é«˜äº®ç‰ˆï¼‰</h1>

    <div class="container">

        <div class="input-area card">
            <h2>â‘  é¢˜ç›®æ¥æº</h2>
            
            <div style="margin-bottom: 15px;">
                <label style="font-weight:bold; color:#333;">ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ æˆ–ç²˜è´´å›¾ç‰‡</label>
                <div style="font-size: 13px; color: #666; margin-bottom: 5px;">
                    æ”¯æŒç‚¹å‡»ä¸Šä¼ ï¼Œæˆ–ç›´æ¥ <span style="color:#d32f2f; font-weight:bold;">Ctrl+V ç²˜è´´</span> æˆªå›¾
                </div>
                <input type="file" accept="image/*" id="imageInput">
                
                <!-- å›¾ç‰‡é¢„è§ˆåŒºåŸŸ -->
                <div id="previewBox" class="preview-box">
                    <div class="preview-close" id="clearImgBtn" title="åˆ é™¤å›¾ç‰‡">âœ•</div>
                    <img id="imagePreview" src="" alt="é¢„è§ˆå›¾">
                    <div style="font-size:12px; color:#1e88e5; margin-top:4px;">å›¾ç‰‡å·²å°±ç»ª</div>
                </div>
            </div>

            <!-- æŒ‰é’®ç»„ -->
            <div class="btn-group">
                <button id="recognizeBtn" class="btn-secondary">ğŸ‘€ å…ˆè¯†åˆ«æ–‡å­— (å¯æ ¡éªŒ)</button>
            </div>
            
            <div style="border-top: 1px dashed #ccc; padding-top: 15px; margin-top: 15px;">
                <label style="font-weight:bold; color:#333;">ç¬¬äºŒæ­¥ï¼šç¡®è®¤/ç¼–è¾‘é¢˜ç›®æ–‡å­—</label>
                <textarea id="questionInput" placeholder="è¯†åˆ«åçš„æ–‡å­—ä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œï¼Œæ‚¨ä¹Ÿå¯ä»¥ç›´æ¥æ‰‹åŠ¨ç²˜è´´..."></textarea>
            </div>
        </div>

        <div class="config-area card">
            <h2>â‘¢ é…ç½®ä¸ç”Ÿæˆ</h2>
            <label>é€‰æ‹©æ¨¡å‹ï¼š</label>
            <select id="modelSelect">
                <option value="gpt-4o-mini">gpt-4o-mini (æ¨è/ä¾¿å®œ)</option>
                <option value="gpt-4o">gpt-4o (æœ€å¼º)</option>
                <option value="gemini-2.0-flash">gemini-2.0-flash (é€Ÿåº¦å¿«)</option>
                <option value="claude-sonnet-4-20250514">claude-sonnet-4-20250514</option>
                <option value="custom">è‡ªå®šä¹‰æ¨¡å‹åç§°â€¦</option>
            </select>
            <input id="customModelInput" placeholder="è‡ªå®šä¹‰æ¨¡å‹åç§°">

            <label>API Keyï¼š</label>
            <input id="apiKeyInput" placeholder="åªå¡« Keyï¼Œæœ¬å·¥å…·è‡ªåŠ¨åŠ  Bearer">

            <button id="generateBtn">âœ¨ ç”Ÿæˆè§£ææŠ¥å‘Š HTML</button>
            <p class="tip">
                API Key å°†è‡ªåŠ¨ä¿å­˜åœ¨æœ¬åœ°æµè§ˆå™¨ä¸­ã€‚
            </p>
        </div>
    </div>

    <div class="loading-mask hidden" id="loadingMask">
        <div class="loading-box">
            <div class="spinner"></div>
            <p class="loading-text">æ­£åœ¨å¤„ç†ï¼Œè¯·ç¨ç­‰...</p>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>